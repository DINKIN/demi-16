;; factorial calculator
;; calculates B!, stores it into A

:initialize
SET A, 0x0001    ; 100010 00000 00001                    => 8801
SET B, 0x0005    ; 100110 00001 00001                    => 9821

:loop
IFN B, 0x0000    ; 100001 00001 10011                    => 8433
  SET PC, calc   ; 011111 11100 00001  0000000000000111  => 7f81 0007
SET PC, done     ; 011111 11100 00001  0000000000001011  => 7f81 000b

:calc
MUL A, B         ; 000001 00000 00100                    => 0404
SUB B, 1         ; 100010 00001 00011                    => 8823
SET PC, loop     ; 011111 11100 00001  0000000000000010  => 7f81 0002

:done
SET PC, done     ; 011111 11100 00001  0000000000001011  => 7f81 000b
